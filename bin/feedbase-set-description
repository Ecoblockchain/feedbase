#!/usr/bin/env node
var feedbase = require("../lib/feedbase.js")
var wait = require("../lib/wait.js")
var web3 = require("../lib/web3.js")

var [id, value] = process.argv.slice(2)

console.log(`set-description`)
console.log(`id          ${id}`)
console.log(`description ${value}`)

wait(x => {
  return x == id &&
    util.toString(feedbase.getDescription(id)) == value
}, id => {
  console.log("ok")
}, () => {
  console.error("error: failed to set description (operation timed out)")
  process.exit(1)
})

feedbase.setDescription(id, value)
